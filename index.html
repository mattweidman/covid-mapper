<!-- Code based on: http://bl.ocks.org/TheMapSmith/bd3ef04e33483e671601c753856273cb -->
<!-- US Covid-19 data: https://usafacts.org/visualizations/coronavirus-covid-19-spread-map/ -->
<!-- World Covid-19 data: https://covid19.who.int/table -->
<!-- World population data: https://data.worldbank.org/indicator/SP.POP.TOTL -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <title>COVID-19 cases</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script>
    <script type="text/javascript" src="https://d3js.org/topojson.v1.min.js"></script> 
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
    <script src="src/ast.js"></script>
    <script src="src/parser.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>COVID-19 Map Maker</h1>
    <div id="expressioncontainer">
        <h4>Make your own graph by entering an expression:</h4>
        <div id="parseroutput"></div>
        <input type="text" id="expressioninput" value="cases(day)"></input><br></br>
    </div>
    <div id="suggestionscontainer">
        <label for="suggestions">Suggested expressions:</label>
        <select name="suggestions" id="suggestions">

        </select>
    </div>
    <div>
        <label for="top5">Show top 5?</label>
        <select name="top5" id="top5" onchange="updateTop5Toggle(value)">
            <option value="yes">Yes</option>
            <option value="no">No</option>
        </select>
    </div>
    <p></p>
    <div id="mapoptionscontainer">
        <label for="mapoptions">Select map type:</label>
        <select name="mapoptions" id="mapoptions">
            <option value="worldflat">World</option>
            <option value="usastates">USA - states</option>
            <option value="usacounties">USA - counties</option>
        </select>
        <label for="viewtype" id="viewtypelabel" class="viewtype">View: </label>
        <select name="viewtype" id="viewtype" class="viewtype">
            <option value="worldflat">World</option>
            <option value="northam">North America</option>
            <option value="carib">Central America and the Caribbean</option>
            <option value="southam">South America</option>
            <option value="wafrica">West Africa</option>
            <option value="safrica">Southern Africa</option>
            <option value="europe">Europe</option>
            <option value="swasia">Southwest Asia</option>
            <option value="seasia">South and Southeast Asia</option>
            <option value="easia">East Asia</option>
            <option value="wpac">Western Pacific</option>
        </select>
    </div>
    <div id="mapcontainer"></div>
    <div id="legendcontainer"></div>
    <div id="slidecontainer">
        <h4 id="datetext">Date: </h4>
        <input type="range" class="slider" id="dateslider"></input>
    </div>
    <p>Sources: usafacts.org, covid19.who.int, data.worldbank.org</p>
    <script src="src/index.js"></script>
    <br>
    <button onclick=downloadAsPng()>CLICK TO DOWNLOAD AS PNG</button>
</body>
</html>